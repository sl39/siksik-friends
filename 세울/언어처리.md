> ### Krwordrank 를 이용한 자연어 처리

- 먼저 krwordrank를 install 한다
  
  ```
  pip install krwordrank를
  ```

- 이후 사용을 한다

- 이때 texts 안에는 리스트로 넣어야 한다

```python
# -*- coding: utf-8 -*- 
from krwordrank.hangle import normalize
from krwordrank.word import KRWordRank


texts = ['[팜뉴스=이권구 기자] 글로벌 스토리지 전문 업체 인포트렌드(Infortrend® Technology, Inc.)는  국내 생명 공학 회사 포트래이(Portrai)에 의약품 개발을 위한 인공지능과  RNA 분석을 위한 스토리지용으로  EonStor GS 유니파이드 엔터프라이즈  솔루션을 공급했다고 25일 밝혔다. 포트래이(Portrai)는 의약품 개발 혁신과 질병 관련 바이오마커 연구를 진행중으로, 공간 전사체(Spatial Transcriptomics)  RNA 분석 기술을 보유하고 있다.  회사 측에 따르면 포트래이(Portrai)는 제약 약물 개발 혁신을 목표로 AI와 공간 전사체학이라는  독특한 조합을 사용해 왔다.  이 분석기술은 신체 면적 1cmx1cm에 대한 이미지를 공간 전사체로 분석할 경우  분석 데이터만 1T가까이  생성된다. 기존 클라우드 스토리지 솔루션은 낮은  처리량과 월 구독 형태로 진행돼  많은 비용이 발생했다.    포트레이는 이번 솔루션 도입으로 AI 연산으로 생성된 방대한 연구 데이터를 저장하고 처리할 수 있는 합리적인 가격 데이터 스토리지를 보유하며, 높은 데이터 보호와 간편한 데이터 처리를 기대하고 있다.     포트래이(Portrai)는 이번 솔루션 도입과정에서 EonStor GS3024 유니파이드 스토리지와 인클로저 JB3060 제품에 84개 NL-SAS 드라이브 18TB를 도입했다.  이 솔루션은 최대 1.2PB 용량을 제공하고 데이터 스토리지에 대한 수요를 해소하며,  다운 타임을 최소화하는 듀얼 컨트롤러 설계, 백업을 위한 데이터 복제/미러링과 증가하는 연구 데이터에 대한  확장성을 보유하고 있다고 회사 측은 설명했다.  포트래이(Portrai) 이대승 대표는 " 의약품 개발 과정에서 공간 전사체학과 AI 분석은 엄청난 양의 데이터를 생성한다. 인포트렌드 솔루션 도입으로 가격 합리성과 고객 서비스 및 기술 지원, 스토리지 안정성과 용량에 만족한다"고 말했다.출처 : 팜뉴스(http://www.pharmnews.com)']

# normalize를 이용하지 않으면 default는 영어나 다른 특수문자, 숫자를 제외하고 한글만 나옴
# english=True, number=True하면 영어랑 숫자는 제외하지 않는다
texts = [normalize(text, english=True, number=True) for text in texts]
wordrank_extractor = KRWordRank(
    min_count = 5, # 단어의 최소 출현 빈도수 (그래프 생성 시)
    max_length = 10, # 단어의 최대 길이
    verbose = True
    )

beta = 0.85    # PageRank의 decaying factor beta
max_iter = 10

keywords, rank, graph = wordrank_extractor.extract(texts, beta, max_iter)
for i in keywords.keys():
    print(i,keywords[i])
```

- 결과
  
  ```
  scan vocabs ...
  num vocabs = 37
  done = 10
  데이터 4.304949996903894
  스토리지 2.459249085344537
  분석 1.7585739221205365
  솔루션 1.3296485107841978
  ```

> ### 바른 api 를 이용한 자연어 처리

- 바른 api를 이용하기 위해선 먼저 [https://bareun.ai/] 이 링크를 통해 바른 프로그램을 다운을 받는다

- 혹은 윈도우 버전에서는 아래 코드를 이용(cmd)
  
  ```cmd
  curl -OLJs -H "uname: windows, %PROCESSOR_ARCHITECTURE%" https://bareun.ai/api/get
  ```

- 만약 cudart64_110 이 없다고 나온다면, [https://developer.nvidia.com/cuda-11.0-download-archive?target_os=Windows&target_arch=x86_64] 여기서 toolkit을 다운 받는다(역2.6gb)

- 다운을 받고 내정보에 들어가 API키를 받고 API 키를 등록한다(관리자 권한으로 계속해서 실행되게 해놓아야 하는것 같다.)
  
  ```cmd
  c:\Program Files\bareun\bin\bareun -reg koba-ABCDEFG-1234567-LMNOPQR-7654321
  ```

- 이후 코드를 실행

```python
import sys
from bareunpy import Tagger

API_KEY="koba-WEIDHEI-FBPETCA-QKMXX7I-YF6LL7Y"

# 방금 설치한 자신의 호스트에 접속합니다.
tagger = Tagger(API_KEY, 'localhost')
# 결과를 가져옵니다.
res = tagger.tags(["창원서부경찰서는 상습절도 등 혐의로 50대 A 씨를 구속했다고 7일 밝혔다. A 씨는 지난달 2일부터 지난 1일까지 창원시 의창구 대산면에 주차된 차량에서 1700만 원 상당의 귀금속과 현금을 훔친 혐의를 받는다. 그가 팔용동 주택가에서 훔쳐 이 기간 범행에 이용한 모닝 차량까지 더하면 피해액은 4000만 원에 달한다. A 씨는 차량 내부에 차 키가 있고 문이 열린 채 매일 같은 장소에 주차된 모닝 차량을 범행에 이용한 뒤 제자리에 주차했다. 해당 차량 주인은 자신의 차량이 범행에 이용된 사실을 몰랐다. A 씨는 주로 차량 문이 잠기지 않으면 사이드미러가 펴지는 점을 노려 범행 대상으로 삼았다. 피해자 신고를 접수한 경찰은 CCTV 녹화분을 분석하고 탐문수사를 벌여 지난 2일 오후 1시5분께 의창구 봉림시장 인근에서 A 씨를 긴급체포했다. 일정한 직업과 주거지가 없는 A 씨는 생활비 마련을 위해 범행을 저질렀다고 경찰에 진술했다. 경찰 관계자는 “농촌 지역에는 차량 문을 제대로 잠그지 않은 채 주차하는 경우가 많아 주의가 필요하다”고 당부했다."])
# 전체 분석 결과를 뽑아냅니다.
pa = res.pos()
ma = res.morphs()
na = res.nouns()
va = res.verbs()
# print('pa : ',pa)
# print("ma : " ,ma)
print("na : ",na)
print("va : ",va)
```

- 결과
  
  ```
  na :  ['창원서부경찰서', '상습', '절도', '등', '혐의', '대', '씨', '일', '씨', '지난달', '일', '일', '창원시', '의창구', '대산면', '차량', '원', '상당', '귀금속', '현금', '혐의', '그', '팔용동', '주택가', '기간', '범
  행', '모닝', '차량', '피해액', '원', '씨', '차량', '내부', '차', '키', '문', '채', '장소', '모닝', '차량', '범행', '뒤', '제자리', '해당', '차량
  ', '주인', '자신', '차량', '범행', '사실', '씨', '차량', '문', '사이드', '미러', '점', '범행', '대상', '피해자', '신고', '경찰', '녹화', '탐문', '수사', '일', '오후', '시', '분', '의창구', '봉림시장', '인근', '씨', '긴급', '체포', '직업', '주거지', '씨', '생활비', '마련', '범행', '경찰', '경찰', '관계자', '농촌', '지역', '차량', '문', '채', '경우', '주의']  
  va :  ['구속하', '밝히', '지나', '주차되', '훔치', '받', '훔치', '이용하
  ', '더하', '달하', '열리', '주차되', '이용하', '주차하', '이용되', '모르
  ', '잠기', '펴지', '노리', '삼', '접수하', '분석하', '벌이', '지나', '위
  하', '저지르', '진술하', '잠그', '주차하', '당부하']
  ```

> ### KRWordRank와 Bareun 의 차이

- KRWordRank는 비지도학습 방법으로 한국어 텍스트에서 단어/키워드를 자동으로 추출하는 라이브러리이다.
  
  - Co-occurrence (동시 등장): 중요한 단어는 주로 다른 단어와 함께 자주 등장합니다. 예를 들어, "기술"이라는 단어가 "인공지능"이나 "데이터 분석"과 함께 자주 등장한다면, 이러한 단어는 중요한 키워드로 간주됩니다.
  
  - 연어(어구)의 중요도: KRWordRank는 연어(두 단어 이상으로 이루어진 어구)를 고려하여 중요한 키워드로 추출합니다. 이는 단어가 혼자서만 중요하지 않고, 문맥 안에서 어떤 어구와 함께 사용되는지를 고려함을 의미합니다.
  
  - 그래프 분석: KRWordRank는 단어 간의 관계를 그래프로 표현하고, 그래프 분석을 통해 중요한 단어를 식별합니다. 이때, 그래프 분석에서 중심성 지표를 활용하여 어떤 단어가 중요한 역할을 하는지를 판단합니다. 중요한 단어는 그래프 내에서 다른 단어들과의 연결성이 높을 것입니다.
  
  - TF-IDF (Term Frequency-Inverse Document Frequency): 이는 전체 문서 집합에서 특정 단어의 중요성을 측정하는 데 사용되는 일반적인 방법 중 하나입니다. 단어가 한 문서에서 자주 나타나고 다른 문서에서는 그렇지 않다면, 해당 단어는 중요한 단어로 간주됩니다.

- Bareun은 단어를 추출하는 자연어 처리 방법이다
  형태소 분석 (Morphological Analysis): 한국어는 교착어로, 단어가 조사, 어미, 어간 등으로 이루어져 있습니다. 따라서 먼저 텍스트를 형태소로 분석하여 단어 단위로 나눕니다. 대표적인 한국어 형태소 분석기로는 KoNLPy, MeCab, Komoran 등이 있습니다.
  
  - 불용어 제거 (Stopword Removal): 분석에서 의미 있는 키워드를 추출하기 위해 불용어(Stopword)라 불리는 무의미한 단어들을 제거합니다. 예를 들어, "그", "이", "하다" 등은 불용어로 간주됩니다.
  
  - 단어 빈도 분석 (Term Frequency Analysis): 각 단어의 출현 빈도를 계산합니다. 이를 통해 가장 자주 등장하는 단어들을 식별할 수 있습니다.
  
  - TF-IDF (Term Frequency-Inverse Document Frequency) 분석: TF-IDF는 단어의 중요성을 평가하는 데 사용되는 방법 중 하나입니다. 이 방법은 특정 문서에서 자주 등장하는 단어에 가중치를 줌으로써, 해당 단어가 문서 내에서 중요한 역할을 하는지를 판단합니다.
  
  - 빈도 기반 클러스터링 (Frequency-Based Clustering): 단어들을 빈도나 유사성을 기반으로 클러스터링하여 의미 있는 토픽 또는 주제를 식별할 수 있습니다.
  
  - Bareun이나 다른 단어 추출 도구는 위와 같은 원리를 활용하여 한국어 텍스트에서 단어를 추출합니다. 사용자는 이러한 도구를 활용하여 텍스트 데이터에서 중요한 단어를 추출하고, 이를 통해 텍스트의 주요 내용을 이해하거나 요약하는 등 다양한 자연어 처리 작업을 수행할 수 있습니다.
